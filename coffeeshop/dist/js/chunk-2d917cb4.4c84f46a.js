(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d917cb4"],{"1dde":function(t,e,r){var a=r("d039"),n=r("b622"),i=r("2d00"),o=n("species");t.exports=function(t){return i>=51||!a((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2f14":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("99af"),r("fb6a");var a=r("d4ec"),n=r("bee2"),i=function(){function t(){Object(a["a"])(this,t)}return Object(n["a"])(t,[{key:"queryString",value:function(t){var e="";for(var r in t)e+="".concat(r,"=").concat(t[r],"&");return e.slice(0,-1)}}]),t}(),o=new i},"43ef":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"record"},[r("van-nav-bar",{attrs:{title:"订单详情","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),r("div",{staticClass:"record-layout"},[r("van-tabs",{attrs:{type:"card"},on:{click:t.changeTab}},t._l(t.recordTitle,(function(e,a){return r("van-tab",{key:a,attrs:{title:"全部订单"}},[r("div",{staticClass:"record-card"},t._l(t.RecordData,(function(e,a){return r("div",{key:a,staticClass:"record-list"},[r("div",{staticClass:"listTitle clearfix"},[r("div",{staticClass:"code fl"},[t._v(t._s(e.RecordId))]),r("div",{staticClass:"state fr"},[1===e.status?r("span",{on:{click:function(r){return t.confirmRecord(e)}}},[t._v("确认收货")]):r("span",[t._v(" 已完成 "),r("van-icon",{attrs:{name:"delete"},on:{click:function(r){return t.delRecord(e,a)}}})],1)])]),t._l(e.products,(function(e,a){return r("div",{key:a,staticClass:"listData clearfix"},[r("div",{staticClass:"card-center fl"},[r("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""}})]),r("div",{staticClass:"card-right fl"},[r("div",{staticClass:"commodity clearfix"},[r("div",{staticClass:"com-name fl"},[r("div",{staticClass:"cn"},[t._v(" "+t._s(e.name)+" "),r("span",[t._v(t._s(e.rule))])]),r("div",{staticClass:"en"},[t._v(t._s(e.enname))])]),r("div",{staticClass:"com-num fr"},[r("div",{staticClass:"price-box"},[t._v(" ￥ "),r("span",[t._v(t._s(e.price))])])]),r("div",{staticClass:"com-count fr"},[r("div",{staticClass:"count-box"},[t._v(" X "),r("span",[t._v(t._s(e.count))])])])])])])})),r("div",{staticClass:"listTotal"},[t._v(" 共计 "),r("span",[t._v(t._s(e.count))]),t._v("件商品 合计:￥ "),r("span",[t._v(t._s(e.total)+".00")])]),r("div",{staticClass:"date"},[t._v(t._s(e.date))])],2)})),0)])})),1)],1)],1)},n=[],i=(r("d81d"),r("a434"),r("be73"),r("2f14")),o={data:function(){return{RecordData:[],tabIndex:0,recordTitle:[{title:"全部订单"},{title:"进行中"},{title:"已完成"}]}},created:function(){this.getRecordData(0)},methods:{back:function(){this.$router.push({name:"My"})},getRecordData:function(t){var e=this;this.RecordData=[];var r=localStorage.getItem("CSTK");this.$toast.loading({message:"加载中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:r,status:t}}).then((function(t){if(e.$toast.clear(),7e4===t.data.code){var r={};for(var a in t.data.result.map((function(t){r[t.oid]?(r[t.oid].count+=t.count,r[t.oid].total+=t.count*t.price,r[t.oid].products.push(t)):r[t.oid]={RecordId:t.oid,date:t.createdAt,count:t.count,total:t.count*t.price,products:[t],status:t.status}})),r)e.RecordData.push(r[a])}})).catch((function(t){e.$toast.clear()}))},delRecord:function(t,e){var r=this,a=t.RecordId,n=localStorage.getItem("CSTK"),o=i["a"].queryString({appkey:this.appkey,tokenString:n,oid:a});this.$toast.loading({message:"加载中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"removeOrder",data:o}).then((function(t){r.$toast.clear(),9e4===t.data.code&&r.RecordData.splice(e,1)})).catch((function(t){r.$toast.clear()}))},confirmRecord:function(t){var e=this,r=t.RecordId,a=localStorage.getItem("CSTK"),n=i["a"].queryString({appkey:this.appkey,tokenString:a,oid:r});this.$toast.loading({message:"加载中",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"receive",data:n}).then((function(r){e.$toast.clear(),8e4===r.data.code&&(t.status=2)})).catch((function(t){e.$toast.clear()}))},changeTab:function(t,e){this.getRecordData(t)}}},c=o,s=r("2877"),d=Object(s["a"])(c,a,n,!1,null,"97669c82",null);e["default"]=d.exports},"65f0":function(t,e,r){var a=r("861d"),n=r("e8b5"),i=r("b622"),o=i("species");t.exports=function(t,e){var r;return n(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),i=r("5c6c");t.exports=function(t,e,r){var o=a(e);o in t?n.f(t,o,i(0,r)):t[o]=r}},"99af":function(t,e,r){"use strict";var a=r("23e7"),n=r("d039"),i=r("e8b5"),o=r("861d"),c=r("7b0b"),s=r("50c4"),d=r("8418"),u=r("65f0"),l=r("1dde"),f=r("b622"),v=r("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",g=v>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=l("concat"),y=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},C=!g||!m;a({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,a,n,i,o=c(this),l=u(o,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?o:arguments[e],y(i)){if(n=s(i.length),f+n>h)throw TypeError(b);for(r=0;r<n;r++,f++)r in i&&d(l,f,i[r])}else{if(f>=h)throw TypeError(b);d(l,f++,i)}return l.length=f,l}})},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),i=r("a691"),o=r("50c4"),c=r("7b0b"),s=r("65f0"),d=r("8418"),u=r("1dde"),l=r("ae40"),f=u("splice"),v=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!v},{splice:function(t,e){var r,a,u,l,f,v,m=c(this),y=o(m.length),C=n(t,y),_=arguments.length;if(0===_?r=a=0:1===_?(r=0,a=y-C):(r=_-2,a=h(p(i(e),0),y-C)),y+r-a>b)throw TypeError(g);for(u=s(m,a),l=0;l<a;l++)f=C+l,f in m&&d(u,l,m[f]);if(u.length=a,r<a){for(l=C;l<y-a;l++)f=l+a,v=l+r,f in m?m[v]=m[f]:delete m[v];for(l=y;l>y-a+r;l--)delete m[l-1]}else if(r>a)for(l=y-a;l>C;l--)f=l+a-1,v=l+r-1,f in m?m[v]=m[f]:delete m[v];for(l=0;l<r;l++)m[l+C]=arguments[l+2];return m.length=y-a+r,u}})},ae40:function(t,e,r){var a=r("83ab"),n=r("d039"),i=r("5135"),o=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var r=[][t],d=!!i(e,"ACCESSORS")&&e.ACCESSORS,u=i(e,0)?e[0]:s,l=i(e,1)?e[1]:void 0;return c[t]=!!r&&!n((function(){if(d&&!a)return!0;var t={length:-1};d?o(t,1,{enumerable:!0,get:s}):t[1]=1,r.call(t,u,l)}))}},b727:function(t,e,r){var a=r("0366"),n=r("44ad"),i=r("7b0b"),o=r("50c4"),c=r("65f0"),s=[].push,d=function(t){var e=1==t,r=2==t,d=3==t,u=4==t,l=6==t,f=5==t||l;return function(v,p,h,b){for(var g,m,y=i(v),C=n(y),_=a(p,h,3),S=o(C.length),k=0,x=b||c,w=e?x(v,S):r?x(v,0):void 0;S>k;k++)if((f||k in C)&&(g=C[k],m=_(g,k,y),t))if(e)w[k]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:s.call(w,g)}else if(u)return!1;return l?-1:d||u?u:w}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},be73:function(t,e,r){},bee2:function(t,e,r){"use strict";function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}r.d(e,"a",(function(){return n}))},d4ec:function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return a}))},d81d:function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").map,i=r("1dde"),o=r("ae40"),c=i("map"),s=o("map");a({target:"Array",proto:!0,forced:!c||!s},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(t,e,r){var a=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),i=r("e8b5"),o=r("23cb"),c=r("50c4"),s=r("fc6a"),d=r("8418"),u=r("b622"),l=r("1dde"),f=r("ae40"),v=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),b=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!v||!p},{slice:function(t,e){var r,a,u,l=s(this),f=c(l.length),v=o(t,f),p=o(void 0===e?f:e,f);if(i(l)&&(r=l.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[h],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return b.call(l,v,p);for(a=new(void 0===r?Array:r)(g(p-v,0)),u=0;v<p;v++,u++)v in l&&d(a,u,l[v]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-2d917cb4.4c84f46a.js.map