(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-787051b2"],{"77be":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"account"},[e("van-nav-bar",{attrs:{title:"个人资料","left-text":"返回","left-arrow":""},on:{"click-left":t.back}}),e("div",{staticClass:"account-warp"},[e("div",{staticClass:"account-bg"}),e("div",{staticClass:"account-layout"},[e("div",{staticClass:"account-head"},[e("div",{staticClass:"head"},[e("van-cell",{attrs:{center:"",title:"头像"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("div",{staticClass:"img-box"},[e("van-uploader",{attrs:{"after-read":t.changeHead}}),e("img",{staticClass:"auto-img",attrs:{src:t.userData.userImg,alt:""}})],1)]},proxy:!0}])}),e("van-cell",{attrs:{center:"",title:"用户id"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[t._v(t._s(t.userData.userId))]},proxy:!0}])}),e("van-cell",{attrs:{center:"",title:"昵称"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("div",{staticClass:"input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.nickName,expression:"userData.nickName"}],attrs:{type:"text"},domProps:{value:t.userData.nickName},on:{change:t.changeName,input:function(a){a.target.composing||t.$set(t.userData,"nickName",a.target.value)}}})])]},proxy:!0}])}),e("van-cell",{attrs:{center:"",title:"手机号码"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[t._v(t._s(t.userData.phone))]},proxy:!0}])}),e("van-cell",{attrs:{center:"",title:"简介"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("div",{staticClass:"input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.desc,expression:"userData.desc"}],attrs:{type:"text",placeholder:"这家伙很懒，什么都没有留下"},domProps:{value:t.userData.desc},on:{change:t.changedesc,input:function(a){a.target.composing||t.$set(t.userData,"desc",a.target.value)}}})])]},proxy:!0}])})],1)])])])],1)},s=[],i=(e("c975"),e("a15b"),e("ac1f"),e("5319"),e("1276"),e("86d8"),e("2f14")),c={data:function(){return{userData:[]}},created:function(){this.getUserData()},methods:{back:function(){this.$router.push({name:"My"})},getUserData:function(){var t=this,a=localStorage.getItem("CSTK");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findAccountInfo",params:{tokenString:a,appkey:this.appkey}}).then((function(a){t.$toast.clear(),"B001"===a.data.code&&(t.userData=a.data.result[0])})).catch((function(a){t.$toast.clear()}))},changeHead:function(t){var a=this,e=localStorage.getItem("CSTK"),n=t.file.type.split("/")[1],s=["png","jpg","gif","jpeg"];if(-1!==s.indexOf(n)){var c=t.content.replace(/data:image\/[A-Za-z]+;base64,/,""),r=i["a"].queryString({appkey:this.appkey,tokenString:e,imgType:n,serverBase64Img:c});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/updateAvatar",data:r}).then((function(t){a.$toast.clear(),"H001"===t.data.code&&(a.userData.userImg=t.data.userImg)})).catch((function(t){a.$toast.clear()}))}else this.$notify({message:"图片只支持"+s.join(","),color:"#fff",background:"#0C34BA"})},changeName:function(){var t=this,a=localStorage.getItem("CSTK"),e=i["a"].queryString({tokenString:a,appkey:this.appkey,nickName:this.userData.nickName});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/updateNickName",data:e}).then((function(a){t.$toast.clear(),"C001"===a.data.code&&(t.userData.nickName=a.data.nickName)})).catch((function(a){t.$toast.clear()}))},changedesc:function(){var t=this,a=localStorage.getItem("CSTK"),e=i["a"].queryString({tokenString:a,appkey:this.appkey,desc:this.userData.desc});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/updateDesc",data:e}).then((function(a){t.$toast.clear(),"D001"===a.data.code&&(t.userData.desc=a.data.desc)})).catch((function(a){t.$toast.clear()}))}}},r=c,o=e("2877"),u=Object(o["a"])(r,n,s,!1,null,"47df8a54",null);a["default"]=u.exports},"86d8":function(t,a,e){}}]);
//# sourceMappingURL=chunk-787051b2.a602970d.js.map